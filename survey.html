<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feel Understood - Self Assessment</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: Arial, Helvetica, sans-serif; background: #ffffff; color: #121212; }
    .fade-in { animation: fadeIn 0.5s ease-in; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    function App() {
      const [step, setStep] = React.useState(-1);
      const [responses, setResponses] = React.useState({});
      const [showResults, setShowResults] = React.useState(false);
      
      const questions = [
        {
          id: 'general',
          type: 'options',
          question: 'When you consider the totality of your relationships—family, friends, colleagues, intimate partners—how accurately would you say people understand who you fundamentally are?',
          options: [
            'People see me with remarkable clarity',
            'Most people understand the essential me',
            'There's a noticeable gap between who I am and how I'm perceived',
            'I'm frequently misunderstood in important ways',
            'I feel profoundly unseen by those around me'
          ]
        },
        {
          id: 'frequency',
          type: 'options',
          question: 'In conversations that matter to you, how often do you experience that satisfying moment when someone truly "gets" what you're trying to communicate?',
          options: [
            'Almost always—it's a regular experience',
            'Often enough that I count on it',
            'Occasionally, but it feels special when it happens',
            'Rarely—it's notable when someone understands',
            'Almost never—I've largely stopped expecting it'
          ]
        },
        {
          id: 'support',
          type: 'multiple',
          question: 'Which relationships in your life consistently provide you with a sense of being genuinely understood?',
          subtitle: 'Select all where you regularly feel seen and comprehended',
          options: [
            'Romantic partner or spouse',
            'Parents or parental figures',
            'Siblings',
            'Close friends (in person)',
            'Colleagues or work relationships',
            'Online communities or virtual friendships',
            'Therapist or counsellor',
            'Extended family members',
            'None of the above apply to me'
          ]
        }
      ];
      
      const handleResponse = (id, value) => {
        setResponses(prev => ({...prev, [id]: value}));
      };
      
      const next = () => {
        if (step < questions.length - 1) {
          setStep(step + 1);
        } else {
          setShowResults(true);
        }
      };
      
      const prev = () => {
        if (step > 0) setStep(step - 1);
      };
      
      // Intro screen
      if (step === -1) {
        return (
          <div style={{minHeight: '100vh', padding: '40px 20px', backgroundColor: '#ffffff'}}>
            <div style={{maxWidth: '700px', margin: '0 auto', textAlign: 'center'}}>
              <h1 style={{fontSize: '36px', fontWeight: 'bold', color: '#121212', marginBottom: '12px'}}>
                The Understanding Gap
              </h1>
              <p style={{fontSize: '18px', color: '#999b9b', marginBottom: '24px'}}>
                A comprehensive self-assessment
              </p>
              <p style={{fontSize: '16px', color: '#121212', lineHeight: 1.8, textAlign: 'left', marginBottom: '40px'}}>
                Feeling understood is fundamental to human wellbeing. It shapes our relationships, influences our mental health, and forms the foundation of our sense of belonging. This assessment examines the gap between who you are and how others perceive you—revealing where understanding flourishes and where it fails.
              </p>
              <button 
                onClick={() => setStep(0)}
                style={{
                  padding: '16px 36px',
                  backgroundColor: '#ffd21f',
                  border: 'none',
                  borderRadius: '8px',
                  color: '#121212',
                  fontSize: '16px',
                  fontWeight: 'bold',
                  cursor: 'pointer'
                }}
              >
                Begin Assessment
              </button>
            </div>
          </div>
        );
      }
      
      // Results screen
      if (showResults) {
        return (
          <div style={{minHeight: '100vh', padding: '40px 20px', backgroundColor: '#ffffff'}}>
            <div style={{maxWidth: '900px', margin: '0 auto'}}>
              <h1 style={{fontSize: '36px', fontWeight: 'bold', color: '#121212', marginBottom: '40px', textAlign: 'center'}}>
                Your Understanding Profile
              </h1>
              <div style={{backgroundColor: '#ffffff', border: '2px solid #e5e5e5', borderRadius: '8px', padding: '48px'}}>
                <h2 style={{fontSize: '24px', fontWeight: 'bold', marginBottom: '20px'}}>
                  Thank you for completing the assessment
                </h2>
                <p style={{fontSize: '16px', lineHeight: 1.8, marginBottom: '20px'}}>
                  You've completed {Object.keys(responses).length} questions. Your detailed results will be displayed here.
                </p>
                <button 
                  onClick={() => window.location.reload()}
                  style={{
                    padding: '16px 36px',
                    backgroundColor: '#ffd21f',
                    border: 'none',
                    borderRadius: '8px',
                    color: '#121212',
                    fontSize: '16px',
                    fontWeight: 'bold',
                    cursor: 'pointer'
                  }}
                >
                  Retake Assessment
                </button>
              </div>
            </div>
          </div>
        );
      }
      
      // Question screen
      const q = questions[step];
      const progress = ((step + 1) / questions.length) * 100;
      const canProceed = responses[q.id] !== undefined;
      
      return (
        <div style={{minHeight: '100vh', padding: '40px 20px', backgroundColor: '#ffffff'}} className="fade-in">
          <div style={{maxWidth: '900px', margin: '0 auto'}}>
            <div style={{height: '4px', backgroundColor: '#e5e5e5', borderRadius: '2px', marginBottom: '40px', overflow: 'hidden'}}>
              <div style={{height: '100%', backgroundColor: '#ffd21f', width: `${progress}%`, transition: 'width 0.3s'}} />
            </div>
            
            <div style={{backgroundColor: '#ffffff', border: '2px solid #e5e5e5', borderRadius: '8px', padding: '48px', marginBottom: '24px'}}>
              <h2 style={{fontSize: '22px', fontWeight: 'bold', color: '#121212', marginBottom: '12px', lineHeight: 1.5}}>
                {q.question}
              </h2>
              {q.subtitle && (
                <p style={{fontSize: '15px', color: '#999b9b', marginBottom: '36px', lineHeight: 1.6, fontStyle: 'italic'}}>
                  {q.subtitle}
                </p>
              )}
              
              <div style={{display: 'flex', flexDirection: 'column', gap: '12px'}}>
                {q.options.map((option, i) => {
                  const isSelected = q.type === 'multiple' 
                    ? (responses[q.id] || []).includes(option)
                    : responses[q.id] === option;
                  
                  return (
                    <button
                      key={i}
                      onClick={() => {
                        if (q.type === 'multiple') {
                          const current = responses[q.id] || [];
                          const updated = isSelected 
                            ? current.filter(x => x !== option)
                            : [...current, option];
                          handleResponse(q.id, updated);
                        } else {
                          handleResponse(q.id, option);
                        }
                      }}
                      style={{
                        width: '100%',
                        textAlign: 'left',
                        padding: '18px 24px',
                        backgroundColor: isSelected ? '#ffd21f' : '#ffffff',
                        border: isSelected ? '2px solid #121212' : '2px solid #e5e5e5',
                        borderRadius: '8px',
                        color: '#121212',
                        fontSize: '16px',
                        cursor: 'pointer',
                        transition: 'all 0.2s',
                        fontFamily: 'Arial, Helvetica, sans-serif',
                        lineHeight: 1.5
                      }}
                    >
                      {q.type === 'multiple' && (
                        <span style={{marginRight: '12px'}}>{isSelected ? '✓' : '○'}</span>
                      )}
                      {option}
                    </button>
                  );
                })}
              </div>
            </div>
            
            <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
              <button 
                onClick={prev}
                disabled={step === 0}
                style={{
                  padding: '16px 36px',
                  backgroundColor: '#ffffff',
                  border: '2px solid #121212',
                  borderRadius: '8px',
                  color: '#121212',
                  fontSize: '16px',
                  fontWeight: 'bold',
                  cursor: step === 0 ? 'not-allowed' : 'pointer',
                  opacity: step === 0 ? 0.5 : 1
                }}
              >
                Previous
              </button>
              <span style={{color: '#999b9b', fontSize: '14px'}}>
                Question {step + 1} of {questions.length}
              </span>
              <button 
                onClick={next}
                disabled={!canProceed}
                style={{
                  padding: '16px 36px',
                  backgroundColor: '#ffd21f',
                  border: 'none',
                  borderRadius: '8px',
                  color: '#121212',
                  fontSize: '16px',
                  fontWeight: 'bold',
                  cursor: canProceed ? 'pointer' : 'not-allowed',
                  opacity: canProceed ? 1 : 0.5
                }}
              >
                {step === questions.length - 1 ? 'View Results' : 'Next'}
              </button>
            </div>
          </div>
        </div>
      );
    }
    
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
